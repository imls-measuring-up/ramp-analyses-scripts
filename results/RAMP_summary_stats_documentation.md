# Data Table Definitions for the file "RAMP_summary_stats_YYYYMMDD.csv."

#### GitHub repository URL: <https://github.com/imls-measuring-up/ramp-analyses-scripts>

Files named "RAMP_summary_stats_YYYYMMDD.csv" include per-IR summary statistics and use ratio 
calculations generated by the script "ramp_summary_stats_normalize_urls.py." 
The script is in the 'scripts' directory of this repository. For these output files, please note
that "YYYYMMDD" will be replaced with the date on which the script was run.

For input, the "ramp_summary_stats_normalize_urls.py " script requires the file "RAMP_IR_base_info.csv," 
which is included with documentation in the 'ir_data' directory of this repository. The script also
requires a subset of RAMP data published on Dryad. The script includes the code necessary to download
these data and save them to the 'ramp_data' directory of this repository. Detailed RAMP data
documentation is provided in the Dryad item record at <https://doi.org/10.5061/dryad.fbg79cnr0>. 

**Please note** that the GitHub repository is configured to ignore RAMP CSV data used and output
by this analysis. If you have cloned the repository, you will need to run the script in order to
download raw RAMP data and generate RAMP summary statistics as described here. 

## Other data used or cited by this analysis: 

Google, Inc. (2019). Search Console APIs. Retrieved from 
https://developers.google.com/webmaster-tools/search-console-api-original. 

## Column definitions and data sources

**ir**

> Data type: string

> Description: Each IR in RAMP is assigned two indices in Elasticsearch. These indices are 
described below, but for each IR both indices have a common prefix or root that is unique to that IR.
This field is essentially a unique identifier for IR in RAMP, and is recommended for scripting batch 
processes across or independently of index type.

> Data source: Internal RAMP IR configuration data.

**pc_index**

> Data type: string

> Description: Each IR in RAMP has one Elasticsearch index that contains search engine performance 
data per page or URL. This column provides the names of these indices for each IR. The values can 
be used to filter RAMP page-click data down to a specific repository, or to batch process page-click 
data one IR at a time.

> Data source: Internal RAMP IR configuration data.

**ai_index**

> Data type: string

> Description: Each IR in RAMP has one Elasticsearch index that contains search engine performance 
data aggregated by combination of country and device. In this case, the country refers to the 
country from which a search was conducted on a Google property. The device refers to the device 
that was used to conduct the search. This column provides the names of these indices for each IR. 
The values can be used to filter RAMP country-device data down to a specific repository, or to 
batch process country-device data one IR at a time.

> Data source: Internal RAMP IR configuration data.

**inst**

> Data type: string

> Description: The name(s) of the institution or consortia members operating the IR.

> Data source: These data were collected manually from IR and institutional websites.

**repoName**

> Data type: string

> Description: The name of the IR.

> Data source: These data were collected manually from IR and institutional websites.

**rURL**

> Data type: string

> Description: The root URL or home page of the IR.

> Data source: Internal RAMP IR configuration data.

**countItems**

> Data type: integer

> Description: The count of items hosted by the IR, as of 2019-05-27. Methods used to 
count items are identified in the _ctMethod_ field described below.

> Data source: These data were collected manually from IR and institutional websites.

**countCcdUrls**

> Data type: integer

> Description: Count of unique URLs in RAMP data that point to content files (PDF, CSV, etc.) AND which
have click values greater than zero. Within RAMP these are referred to as "citable content URLs." 
For more detailed information about citable content URLs and citable content downloads (CCD),
please see RAMP data documentation at <https://doi.org/10.5061/dryad.fbg79cnr0>.

> Data source: "Page" (per URL) data from the Google Search Console API are filtered to identify URLs that
point to content files. Filters vary by IR platform. URLs pointing to content files are further filtered
on whether those URLs received any clicks. The final list of content file URLs with positive click values
is deduplicated to arrive at a count of clicked-on content file URLs. 

**countItemUrls**

> Data type: integer

> Description: Content file URLs as defined above are typically nested within item HTML pages in IR. This
variable represents the count of item HTML pages that contain content file URLs
with positive click values in RAMP. For an example, see the following dataset:

>>>OBrien P, Arlitsch K, Sterman L, Mixter J, Wheeler J, Borda S (2016) Dataset supporting study on Undercounting
File Downloads from Institutional Repositories [dataset]. Montana State University ScholarWorks. 
http://doi.org/10.15788/M2Z59N

> In this example, even though the item includes seven content files, the "item URL"  for the purposes of this variable
is the item's page in the IR at <https://scholarworks.montana.edu/xmlui/handle/1/9939>. It should be noted that
a single item may be represented in RAMP data with URLs using both http and https protocols. This column
presents the count of all item URLs and has not been deduplicated, as a comparison with a count of deduplicated items
may be of interest.

> Data source: Citable content URLs as described above are processed to infer the URL of the parent item's 
HTML page. This process is platform dependent, with platform specific functions defined in the Python script
"ramp_summary_stats_normalize_urls.py." 

**countItemUris**

> Data type: integer

> Description: As described above for the "countItemUrls" column, content file URLs as defined above are 
typically nested within item HTML pages in IR. Since both the http and https versions of a URL represent 
a single logical item, it is necessary to deduplicate the set of URLs represented by the "countItemUrls"
column. This variable represents the count of deduplicated, unique item HTML pages that contain content file URLs
with positive click values in RAMP. 

> Data source: Citable content URLs as described above are processed to infer the URL of the parent item's 
HTML page. This process is platform dependent, with platform specific functions defined in the Python script
"ramp_summary_stats_normalize_urls.py." 

**useRatio**

> Data type: floating point

> Description: The ratio of the number of deduplicated items containing content files with positive click values in RAMP to the
total number of items hosted by a repository. Use ratio as defined here does not differentiate between items that
receive a single click on a content file versus items that receive many clicks on content files.

> Data source: This ratio is calculated by "ramp_summary_stats_normalize_urls.py." The calculation is

>>>_countItemUris_ / _countItems_

**sumCcd**

> Data type: integer

> Description: Sum of clicks on citable content URLs.

> Data source: Google Search Console API.

**ccdAggSum**

> Data type: integer

> Description: Sum of clicks on citable content URLs. This should be the same as the _sumCcd_ variable and is
included as a data integrity check against the filtering processes used to derive the _countCcdUrls_ and 
_countItemUrls_ variables. _sumCcd_ is calculated before filtering, this variable is calculated after. For large
RAMP datasets some variation between this variable and _sumCcd_ is acceptable.

> Data source: Google Search Console API.

**ccdAggCount**

> Data type: integer

> Description: Count of unique citable content URLs. This should be the same as the _countCcdUrls_ variable and is
included as a data integrity check against the filtering processes used to derive the _countCcdUrls_ and 
_countItemUrls_ variables. _countCcdUrls_ is calculated before filtering, this variable is calculated after. For large
RAMP datasets some variation between this variable and _countCcdUrls_ is acceptable.

> Data source: Google Search Console API.

**ccdAggMean**

> Data type: floating point

> Description: Average number of clicks on citable content URLs. Note that citable content URLs with zero clicks
are filtered out of the dataset prior to calculating this stastic, so it is only representative of the subset
of citable content URLs that have positive click values.

> Data source:  Google Search Console API.

**ccdAggStd**

> Data type: floating point

> Description: Standard deviation of clicks on citable content URLs. Note that citable content URLs with zero clicks
are filtered out of the dataset prior to calculating this stastic, so it is only representative of the subset
of citable content URLs that have positive click values.

> Data source:  Google Search Console API.

**ccdAggMin**

> Data type: floating point

> Description: Minimum number of clicks on citable content URLs. Note that citable content URLs with zero clicks
are filtered out of the dataset prior to calculating this stastic, so it is only representative of the subset
of citable content URLs that have positive click values. 

> Data source:  Google Search Console API.

**ccdAgg25**

> Data type: floating point

> Description: First quartile of clicks on citable content URLs. Twenty five percent of citable content URLs received
this many clicks or fewer. Note that citable content URLs with zero clicks
are filtered out of the dataset prior to calculating this stastic, so it is only representative of the subset
of citable content URLs that have positive click values. 

> Data source:  Google Search Console API.

**ccdAgg50**

> Data type: floating point

> Description: Second quartile of clicks on citable content URLs. Fifty percent of citable content URLs received
this many clicks or fewer. Note that citable content URLs with zero clicks
are filtered out of the dataset prior to calculating this stastic, so it is only representative of the subset
of citable content URLs that have positive click values. 

> Data source:  Google Search Console API.

**ccdAgg75**

> Data type: floating point

> Description: Third quartile of clicks on citable content URLs. Seventy five percent of citable content URLs received
this many clicks or fewer. Note that citable content URLs with zero clicks
are filtered out of the dataset prior to calculating this stastic, so it is only representative of the subset
of citable content URLs that have positive click values. 

> Data source:  Google Search Console API.

**ccdAggMax**

> Data type: floating point

> Description: Maximum number of clicks on citable content URLs. Note that citable content URLs with zero clicks
are filtered out of the dataset prior to calculating this stastic, so it is only representative of the subset
of citable content URLs that have positive click values. 

> Data source:  Google Search Console API.

**itemAggSum**

> Data type: integer

> Description: Sum of clicks on citable content URLs, aggregated at the level of the parent items' HTML pages.
This value should be the same as or close to the _sumCcd_ variable and is
included as a data integrity check against the filtering processes used to derive the _countCcdUrls_ and 
_countItemUris_ variables. _sumCcd_ is calculated before filtering, this variable is calculated after. For large
RAMP datasets some variation between this variable and _sumCcd_ is acceptable.

> Data source: Google Search Console API.

**itemAggCount**

> Data type: integer

> Description: Count of unique item HTML pages of items containing citable content URLs with positive click values in
RAMP.  This value should be the same as or close to the _countItemUris_ variable and is
included as a data integrity check against the filtering processes used to derive the _countCcdUrls_ and 
_countItemUris_ variables. For large RAMP datasets some variation between this variable and _countItemUris_ 
is acceptable.

> Data source: Google Search Console API.

**itemAggMean**

> Data type: floating point

> Description: Average number of clicks on citable content URLs, aggregated at the level of the parent items' HTML
pages. Note that citable content  URLs with zero clicks are filtered out of the dataset prior to calculating this 
statistic, so it is only representative of the subset of item HTML pages that contain citable content URLs with
positive click values.

> Data source:  Google Search Console API.

**itemAggStd**

> Data type: floating point

> Description: Standard deviation of clicks on citable content URLs, aggregated at the level of the parent items' HTML
pages. Note that citable content  URLs with zero clicks are filtered out of the dataset prior to calculating this 
statistic, so it is only representative of the subset of item HTML pages that contain citable content URLs with
positive click values.

> Data source:  Google Search Console API.

**itemAggMin**

> Data type: floating point

> Description: Minimum number of clicks on citable content URLs, aggregated at the level of the parent items' HTML
pages. Note that citable content  URLs with zero clicks are filtered out of the dataset prior to calculating this 
statistic, so it is only representative of the subset of item HTML pages that contain citable content URLs with
positive click values.

> Data source:  Google Search Console API.

**itemAgg25**

> Data type: floating point

> Description: First quartile of clicks on citable content URLs,aggregated at the level of the parent items' HTML
pages. Twenty five percent of items containing clicked content file URLs received
this many clicks or fewer. Note that citable content URLs with zero clicks
are filtered out of the dataset prior to calculating this stastic, so it is only representative of the subset 
of item HTML pages that contain citable content URLs with positive click values.

> Data source:  Google Search Console API.

**itemAgg50**

> Data type: floating point

> Description: Second quartile of clicks on citable content URLs,aggregated at the level of the parent items' HTML
pages. Fifty percent of items containing clicked content file URLs received
this many clicks or fewer. Note that citable content URLs with zero clicks
are filtered out of the dataset prior to calculating this stastic, so it is only representative of the subset 
of item HTML pages that contain citable content URLs with positive click values.

> Data source:  Google Search Console API.

**itemAgg75**

> Data type: floating point

> Description: Third quartile of clicks on citable content URLs,aggregated at the level of the parent items' HTML
pages. Seventy five percent of items containing clicked content file URLs received
this many clicks or fewer. Note that citable content URLs with zero clicks
are filtered out of the dataset prior to calculating this stastic, so it is only representative of the subset 
of item HTML pages that contain citable content URLs with positive click values.

> Data source:  Google Search Console API.

**itemAggMax**

> Data type: floating point

> Description: Maximum number of clicks on citable content URLs, aggregated at the level of the parent items' HTML
pages. Note that citable content  URLs with zero clicks are filtered out of the dataset prior to calculating this 
statistic, so it is only representative of the subset of item HTML pages that contain citable content URLs with
positive click values.

> Data source:  Google Search Console API.

**serp1**

> Data type: integer

> Description: Count of citable content URLs with positive click values and position values less than or equal to 10. 
These URLs appeared on the first page of a search result.

> Data source:  Google Search Console API.

**serp1CcdSum**

> Data type: integer

> Description: Sum of clickc on citable content URLs with positive click values and position values less than 
or equal to 10. These URLs appeared on the first page of a search result.

> Data source:  Google Search Console API.

**serp100**

> Data type: integer

> Description: Count of citable content URLs with positive click values and position values less than or equal to 1000. 
These URLs appeared within the first one hundred pages of a search result.

> Data source:  Google Search Console API.

**serp100CcdSum**

> Data type: integer

> Description: Sum of clickc on citable content URLs with positive click values and position values less than 
or equal to 1000. These URLs appeared within the first one hundred pages of a search result.

> Data source:  Google Search Console API.

**irCountry**

> Data type: string

> Description: The country where the IR is located.

> Data source: These data were collected manually from IR and institutional websites.


**irType**

> Data type: string

> Description: The type of organization or institution operating the IR. Current values include 
_University_ or _Consortium_.

> Data source: These data were collected manually from IR and institutional websites.

**irPlat**

> Data type: string

> Description: The IR software platform. 

> Data source: Internal RAMP IR configuration data.

**normIrPlat**

> Data type: string

> Description: The IR software platform. Names have been normalized to remove
version numbers and other variations.

> Data source: Internal RAMP IR configuration data.


**ctMethod**

> Data type: string

> Description: The method used to count total items and total ETD in the IR.

**ctEtd**

> Data type: integer

> Description: The count of electronic theses and dissertations in the IR on 2019-06-07. 
Null values are represented by a decimal point.

> Data source: These data were collected manually from IR and institutional websites.

**pctEtd**

> Data type: floating point

> Description: The percentage of the items in the IR which are ETD. Determined as

>>>_ctEtd_ / _countItems_ 

> Data source: These data were collected manually from IR and institutional websites.s

**gsSO**

> Data type: integer

> Description: The SITE operator can be used with Google search engines to elicit a very rough count of the number
items that Google has indexed from a given website or repository. It should not be used to assume anything more 
than an approximate count. The search command is "site:repository.institution.domain." Searches were conducted on
2019-06-07. Null values are represented by a decimal point.

> Example: site.scholarworks.montana.edu

> Data source: These data were collected manually from Google search engines.
